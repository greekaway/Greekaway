<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Λεπτομέρειες Εκδρομής – Greekaway</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      margin:0;
      font-family: Arial, sans-serif;
      background:#1e2b3a;
      color:#ecf0f1;
      padding-bottom:70px;
    }
    header {
      background:#000;
      color:#fff;
      padding:1rem;
      text-align:center;
      font-size:1.3rem;
      font-weight:bold;
    }
    main {
      padding:1rem;
      max-width:900px;
      margin:auto;
    }
    .trip-img {
      width:100%;
      max-height:400px;
      object-fit:cover;
      border-radius:15px;
      margin-bottom:1rem;
    }
    .video-wrap {
      position:relative;
      padding-bottom:56.25%;
      height:0;
      overflow:hidden;
      margin:1rem 0;
      border-radius:15px;
    }
    .video-wrap iframe {
      position:absolute;
      top:0; left:0;
      width:100%; height:100%;
      border:0;
      border-radius:15px;
    }
    #map {
      width:100%;
      height:300px;
      border-radius:15px;
      margin-top:1rem;
    }
    footer {
      position:fixed;
      bottom:0; left:0; right:0;
      background:#000;
      color:#ecf0f1;
      display:flex;
      justify-content:space-around;
      padding:0.6rem 0;
      border-radius:20px 20px 0 0;
    }
    footer a {
      color:#ecf0f1;
      text-decoration:none;
      font-size:0.9rem;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    footer a i {
      font-size:1.4rem;
      margin-bottom:3px;
    }
  </style>
</head>
<body>
  <header id="tripTitle">Λεπτομέρειες Εκδρομής</header>
  <main>
    <img id="tripImage" class="trip-img" src="" alt="">
    <p id="tripDescription"></p>
    <div id="extraContent"></div>
    <div id="map"></div>
  </main>

  <!-- Footer -->
  <footer>
    <a href="index.html"><i class="fas fa-home"></i>Home</a>
    <a href="trips.html"><i class="fas fa-map-marked-alt"></i>Εκδρομές</a>
    <a href="#"><i class="fas fa-info-circle"></i>About Us</a>
    <a href="#"><i class="fas fa-envelope"></i>Contact</a>
  </footer>

  <script>
    // Πάρε το id από το URL
    const urlParams = new URLSearchParams(window.location.search);
    const tripId = parseInt(urlParams.get("id"));

    // Φόρτωσε trips.json
    fetch("trips.json")
      .then(res => res.json())
      .then(trips => {
        const trip = trips.find(t => t.id === tripId);
        if (!trip) {
          document.getElementById("tripTitle").innerText = "Δεν βρέθηκε η εκδρομή";
          return;
        }
        // Γέμισε τα βασικά στοιχεία
        document.getElementById("tripTitle").innerText = trip.title;
        document.getElementById("tripImage").src = trip.image;
        document.getElementById("tripDescription").innerText = trip.details;

        // Ανάλογα με το id εμφάνισε custom περιεχόμενο
        const extra = document.getElementById("extraContent");
        if (tripId === 1) { // Λευκάδα
          extra.innerHTML = `
            <div class="video-wrap">
              <iframe src="https://www.youtube-nocookie.com/embed/RXSymowNTz4?rel=0&modestbranding=1" allowfullscreen></iframe>
            </div>
            <div class="video-wrap">
              <iframe src="https://www.youtube-nocookie.com/embed/HLVY4mVRk3o?rel=0&modestbranding=1" allowfullscreen></iframe>
            </div>
          `;
          initMap(38.7, 20.65); // Lefkada
        } else if (tripId === 2) { // Δελφοί
          extra.innerHTML = `
            <div class="video-wrap">
              <iframe src="https://www.youtube-nocookie.com/embed/ogyJXgHobvg?rel=0&modestbranding=1" allowfullscreen></iframe>
            </div>
            <div class="video-wrap">
              <iframe src="https://www.youtube-nocookie.com/embed/h0twbbYFfO8?rel=0&modestbranding=1" allowfullscreen></iframe>
            </div>
          `;
          initMap(38.5, 22.5); // Delphi
        }
      });

    // Google Map init
    function initMap(lat, lng) {
      const map = new google.maps.Map(document.getElementById("map"), {
        center: {lat: lat, lng: lng},
        zoom: 8,
        mapTypeId: "satellite"
      });
      new google.maps.Marker({position: {lat: lat, lng: lng}, map: map});
    }
  </script>

  <!-- Google Maps API -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTmIn4C3VGyoPagMsBbupeZ6-AdHds9rI"></script>
</body>
</html>


