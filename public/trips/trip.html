<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Greekaway – Εκδρομή</title>

  <!-- Icons + βασικό style όπως στο welcome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/trip.css">
  <link rel="stylesheet" href="/css/booking.css">

  <!-- Κύριος κώδικας -->
  <!-- Flatpickr (dark theme) for cinematic date picker -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/dark.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <!-- Greek locale for flatpickr -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/gr.js"></script>
  <script src="/js/main.js" defer></script>
</head>

<body>
  <!-- Back to categories button (appears on trip view) -->
  <button id="backToCatsBtn" class="back-btn" data-i18n-aria="trips_ui.backToCategories" style="display:none;">
    <i class="fas fa-arrow-left"></i>
  </button>
  <!-- Περιεχόμενο εκδρομής -->
  <section id="trip-section" class="trip-section">
    <h2 id="trip-title"></h2>
    <p id="trip-description"></p>

    <div id="map"></div>
    <div id="stops"></div>
  </section>

  <!-- Overlays -->
  <div id="aiOverlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('aiOverlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner">
      <h2 data-i18n="nav.ai">AI Assistant</h2>
        <p data-i18n="welcome.ask">Ρωτήστε μας ό,τι θέλετε για την εκδρομή σας!</p>
    </div>
  </div>

  <div id="profileOverlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('profileOverlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner">
      <h2 data-i18n="nav.profile">Το Προφίλ μου</h2>
        <p data-i18n="profile.info">Εδώ θα δείτε τις εκδρομές που έχετε κάνει και τις κρατήσεις σας.</p>
    </div>
  </div>

  <div id="aboutOverlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('aboutOverlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner">
      <h2 data-i18n="about.title">Σχετικά με εμάς</h2>
      <p data-i18n="about.text">Το Greekaway δημιουργήθηκε για να σας προσφέρει επιλεγμένες εκδρομές στην Ελλάδα με άνεση, τεχνολογία και στυλ.</p>
    </div>
  </div>

  <div id="paymentOverlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('paymentOverlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner">
      <h2 data-i18n="nav.checkout">Πληρωμή</h2>
        <p data-i18n="checkout.info">Η φόρμα πληρωμής θα εμφανίζεται εδώ.</p>
    </div>
  </div>

  <div id="bookingOverlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('bookingOverlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner">
      <h2 id="bookingOverlayTitle">Κράτηση</h2>
      <form id="bookingForm" class="booking-form">
        <input type="hidden" name="trip_id" id="bookingTripId">

        <div class="row">
          <label for="bookingDate">Ημερομηνία</label>
          <input id="bookingDate" name="date" type="date" required />
        </div>

        <div class="row two-col">
          <div>
            <label for="bookingSeats">Θέσεις</label>
            <div class="seat-control">
              <button type="button" class="seat-dec" aria-label="Μείωση">−</button>
              <input id="bookingSeats" name="seats" type="number" value="1" min="1" max="10" required />
              <button type="button" class="seat-inc" aria-label="Αύξηση">+</button>
            </div>
          </div>

          <div>
            <label for="bookingPrice">Σύνολο</label>
            <div id="bookingPrice" class="price-tag">—</div>
          </div>
        </div>

        <div class="row">
          <label for="bookingName">Όνομα</label>
          <input id="bookingName" name="user_name" type="text" placeholder="Όνομα και επώνυμο" required />
        </div>

        <div class="row">
          <label for="bookingEmail">Email</label>
          <input id="bookingEmail" name="user_email" type="email" placeholder="name@example.com" required />
        </div>

        <div class="row section-title"><h3>Προφίλ Ταξιδιώτη</h3></div>
        <div class="row two-col">
          <div>
            <label for="travelerProfile">Traveler Type</label>
            <select id="travelerProfile" name="travelerProfile">
              <option value="explorer">🌍 Explorers</option>
              <option value="relaxed">😌 Relaxed Travelers</option>
              <option value="family">👨‍👩‍👧 Family Style</option>
              <option value="solo">🚶 Solo Adventurers</option>
            </select>
          </div>
          <div>
            <label for="travelStyle">Travel Style</label>
            <select id="travelStyle" name="travelStyle">
              <option value="sociable">👥 Sociable</option>
              <option value="quiet">🤫 Quiet</option>
              <option value="cultural">🏛️ Cultural</option>
              <option value="nature">🌲 Nature-oriented</option>
            </select>
          </div>
        </div>

        <div class="row two-col">
          <div>
            <label for="preferredLanguage">Προτιμώμενη Γλώσσα</label>
            <select id="preferredLanguage" name="preferredLanguage">
              <option value="en">🇬🇧 English</option>
              <option value="fr">🇫🇷 Français</option>
              <option value="de">🇩🇪 Deutsch</option>
              <option value="el">🇬🇷 Ελληνικά</option>
            </select>
          </div>
          <div>
            <label for="travelTempo">Στυλ Ώρας / Ημέρας</label>
            <select id="travelTempo" name="travelTempo">
              <option value="early">🌅 Early riser</option>
              <option value="night">🌙 Night type</option>
              <option value="talkative">💬 Talkative</option>
              <option value="reserved">🙊 Reserved</option>
            </select>
          </div>
        </div>

        <div class="row actions">
          <button class="btn" type="submit">Δημιούργησε κράτηση</button>
          <button type="button" class="btn ghost" onclick="closeOverlay('bookingOverlay')">Άκυρο</button>
        </div>
      </form>

      <div id="bookingResult" class="booking-result" style="display:none"></div>
    </div>
  </div>

  <!-- New light-blue overlay for Step 2 (details) -->
  <div id="step2Overlay" class="overlay" role="dialog" aria-modal="true">
    <button class="close-overlay" onclick="closeOverlay('step2Overlay')" aria-label="Κλείσιμο">×</button>
    <div class="overlay-inner" id="step2OverlayInner">
      <!-- Step 2 content is injected dynamically -->
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer>
    <a href="/index.html">
      <i class="fas fa-home"></i>
      <span data-i18n="nav.home">Home</span>
    </a>

    <a href="javascript:void(0)" onclick="openOverlay('aboutOverlay')">
      <i class="fas fa-info-circle"></i>
      <span data-i18n="nav.about">About Us</span>
    </a>

    <a href="javascript:void(0)" class="central-btn">
      <i class="fas fa-bell"></i>
      <span data-i18n="nav.book">Online Κράτηση</span>
    </a>

    <a href="javascript:void(0)" onclick="openOverlay('aiOverlay')">
      <i class="fas fa-comments"></i>
      <span data-i18n="nav.ai">AI Assistant</span>
    </a>

    <a href="javascript:void(0)" onclick="openOverlay('profileOverlay')">
      <i class="fas fa-user"></i>
      <span data-i18n="nav.profile">Προφίλ</span>
    </a>
  </footer>

  <script src="/js/overlay-manager.js" defer></script>
  <script src="/js/i18n.js" defer></script>
  <script src="/js/assistant.js" defer></script>

  <!-- Google Maps -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>
</body>
</html>