<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Checkout — Greekaway</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/theme.css">
  <link rel="stylesheet" href="/css/checkout.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#001f3f">
  <link rel="stylesheet" href="/pwa.css">
  <link rel="stylesheet" href="/css/pwa-fixes.css">
  <script src="/js/vehiclePriceMap.js" defer></script>
</head>
<body>
  <main>
    <div class="checkout-header">
      <button type="button" class="back-btn three-d" onclick="history.back()" data-i18n-aria="ui.close">
        <i class="fas fa-arrow-left"></i>
      </button>
      <div class="title-wrap">
        <small data-i18n="ui.back">Πίσω</small>
        <h1 data-i18n="checkout.title">Checkout — Greekaway</h1>
      </div>
    </div>
    <p class="checkout-subtitle" data-i18n="checkout.notice">Secure Payment via Stripe</p>
    <div id="checkoutAmount" class="price-badge" style="display:none; margin:8px auto; text-align:center;">—</div>
    <div id="checkoutSummary" class="checkout-summary" style="display:none;max-width:600px;margin:12px auto;padding:12px;border:1px solid #224;border-radius:8px;background:#0d1b2a;color:#fff;font-size:.95rem;line-height:1.4">
      <div><strong data-i18n="booking.trip">Εκδρομή</strong>: <span id="coTripId">—</span></div>
      <div><strong data-i18n="booking.date">Ημερομηνία</strong>: <span id="coDate">—</span></div>
      <div><strong data-i18n="booking.mode">Τύπος</strong>: <span id="coMode">—</span></div>
      <div><strong data-i18n="booking.seats">Θέσεις</strong>: <span id="coSeats">—</span></div>
      <div><strong data-i18n="booking.pickup_location">Παραλαβή</strong>: <span id="coPickup">—</span></div>
      <div><strong data-i18n="booking.trip_cost">Κόστος</strong>: <span id="coPrice">—</span></div>
    </div>

    <form id="checkoutForm">
      <!-- Payment Request Button (Apple Pay / Google Pay) will mount here when available -->
      <div id="payment-request-container" style="display:none;margin-bottom:1rem;"></div>
      <div class="form-row">
        <label data-i18n="checkout.name">Όνομα</label>
        <input name="name" type="text" required>
      </div>
      <div class="form-row">
        <label data-i18n="checkout.email">Email</label>
        <input name="email" type="email" required>
      </div>
      <div class="form-row">
        <label data-i18n="checkout.cardLabel">Κάρτα</label>
        <input name="card" type="text" data-i18n-placeholder="checkout.cardPlaceholder" placeholder="Card number">
      </div>
      <button class="btn" type="submit" data-i18n="checkout.pay">Pay</button>
    </form>

    <div id="result" class="result" aria-live="polite" style="display:none;"></div>
  </main>

  <script src="https://js.stripe.com/v3/"></script>
  <script src="/js/booking-state.js"></script>
  <script src="/js/payment-request.js"></script>
  <script src="/js/feedback.js" defer></script>
  <script src="/js/i18n.js" defer></script>
  <script src="/pwa-install.js" defer></script>
  <script defer src="/pwa-checkout-redirect.js"></script>
  <script>window.STRIPE_PUBLISHABLE='%STRIPE_PUBLISHABLE_KEY%';</script>
  <script src="/js/checkout.js"></script>
  <script src="/js/main.js"></script>
 </body>
 </html>

