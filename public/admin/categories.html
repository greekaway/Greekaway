<!doctype html><html lang="el"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Greekaway Admin – Categories</title>
<link rel="stylesheet" href="/css/admin-common.css">
<link rel="stylesheet" href="/admin/css/categories.css">
<link rel="stylesheet" href="/css/admin-theme-toggle.css">
<link rel="manifest" href="/manifest-admin.json">
<meta name="theme-color" content="#001f3f">
<link rel="stylesheet" href="/pwa.css">
<link rel="stylesheet" href="/css/pwa-fixes.css">
</head><body>
<header class="sticky-bar" aria-label="Κατηγορίες — Φόρμα" data-collapsed="false">
  <div class="bar-inner">
    <div class="title">Greekaway</div>
    <button id="toggleFilters" class="filters-toggle" aria-label="Εμφάνιση/Απόκρυψη φόρμας" aria-expanded="true">▲</button>
    <form id="categoryForm" class="filters" onsubmit="return false;">
      <label>Title
        <input type="text" id="catTitle" required placeholder="Title">
      </label>
      <label>Slug
        <input type="text" id="catSlug" placeholder="auto από title">
      </label>
      <label>Order
        <input type="number" id="catOrder" value="0" min="0" step="1">
      </label>
      <label style="display:flex;align-items:center;gap:6px;margin-top:4px">Publish
        <input type="checkbox" id="catPublished">
      </label>
      <div class="field-row">
        <label style="flex:1 1 auto">Icon File (SVG/PNG/WEBP)
          <input type="file" id="catIcon" accept=".svg,.png,.webp">
        </label>
        <div class="icon-preview-wrap">
          <div id="catIconPreview" class="category-icon admin-preview" aria-label="Icon preview"></div>
          <div class="hint small">Preview</div>
        </div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
        <button class="btn secondary" id="resetForm" type="button">Reset</button>
        <button class="btn" id="saveCategory" type="button">Save / Upsert</button>
      </div>
    </form>
  </div>
</header>
<main class="content-wrap">
  <div class="table-wrap">
    <table class="table" aria-label="Λίστα Κατηγοριών" id="categoriesTable">
      <thead><tr>
        <th>Title</th>
        <th>Slug</th>
        <th>Order</th>
        <th>Published</th>
        <th>Icon</th>
        <th>Actions</th>
      </tr></thead>
      <tbody id="catRows"></tbody>
    </table>
    <div id="catMessage" class="hint" style="padding:8px;color:#666"></div>
  </div>
  <div id="confirmModal" class="modal" hidden>
    <div class="modal-inner" role="dialog" aria-modal="true" aria-labelledby="confirmTitle">
      <h3 id="confirmTitle">Είσαι σίγουρος;</h3>
      <p>Η κατηγορία θα διαγραφεί οριστικά.</p>
      <div class="actions">
        <button id="confirmCancel" class="btn secondary" type="button">Άκυρο</button>
        <button id="confirmOk" class="btn danger" type="button">Διαγραφή</button>
      </div>
    </div>
  </div>
</main>
<script src="/admin/js/upload-client.js"></script>
<script src="/admin/js/categories.js"></script>
<script src="/js/admin-theme-toggle.js"></script>
<script src="/pwa-install.js" defer></script>
<script>
fetch('/version.json').then(r=>r.ok?r.json():null).then(v=>{ if(v){document.getElementById('ga-version').textContent=v.version||'—'} });
(function(){
  const header = document.querySelector('header.sticky-bar');
  const btn = document.getElementById('toggleFilters');
  if (header && btn) {
    btn.addEventListener('click', () => {
      const collapsed = header.getAttribute('data-collapsed') === 'true';
      header.setAttribute('data-collapsed', collapsed ? 'false' : 'true');
      btn.textContent = collapsed ? '▲' : '▼';
      btn.setAttribute('aria-expanded', collapsed ? 'true' : 'false');
    });
  }
})();
</script>
<script src="/admin/js/admin-greekaway-tabs.js"></script>
<script src="/admin/js/admin-footer.js"></script>
</body></html>
