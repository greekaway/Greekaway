<!doctype html>
<html lang="el">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <title>Greekaway Admin – DriversSystem</title>
    <link rel="stylesheet" href="/css/admin-common.css">
    <link rel="stylesheet" href="/css/admin-theme-toggle.css">
    <link rel="stylesheet" href="/admin/css/admin-driverssystem-ui.css">
    <link rel="stylesheet" href="/admin/css/admin-driverssystem-stats.css">
    <link rel="manifest" href="/manifest-admin.json">
    <meta name="theme-color" content="#001f3f">
    <link rel="stylesheet" href="/pwa.css">
    <link rel="stylesheet" href="/css/pwa-fixes.css">
  </head>
  <body>
    <header class="sticky-bar" aria-label="DriversSystem">
      <div class="bar-inner">
        <div class="title">DriversSystem</div>
        <div class="bar-tabs">
          <button class="bar-tab active" data-tab="general">General</button>
          <button class="bar-tab" data-tab="sources">Πηγές Διαδρομών</button>
          <button class="bar-tab" data-tab="car-expense-cats">Έξοδα Αυτοκινήτου</button>
          <button class="bar-tab" data-tab="personal-expense-cats">Προσωπικά / Σπιτιού</button>
          <button class="bar-tab" data-tab="tax-expense-cats">Φόροι / Ασφαλιστικά</button>
          <button class="bar-tab" data-tab="overview">Επισκόπηση</button>
          <button class="bar-tab" data-tab="drivers">Οδηγοί</button>
          <button class="bar-tab" data-tab="entries">Καταχωρήσεις</button>
          <button class="bar-tab" data-tab="expenses">Έξοδα</button>
          <button class="bar-tab" data-tab="debts">Οφειλές</button>
        </div>
      </div>
    </header>

    <main class="content-wrap">
      <!-- ===== GENERAL TAB ===== -->
      <div class="tab-content active" data-tab="general">
        <section class="panel">
          <form id="ds-form" class="ds-form" novalidate>
            <div class="ds-grid">
              <div class="ds-upload">
                <label>Hero Logo Upload (png/svg/webp)
                  <input id="heroLogoFile" class="input" type="file" accept="image/png,image/svg+xml,image/webp">
                </label>
                <button id="heroLogoUploadBtn" class="btn secondary" type="button">Upload Logo</button>
                <input id="heroLogoUrl" type="hidden">
              </div>
              <label>Hero Headline
                <input id="heroHeadline" class="input" type="text" maxlength="120">
              </label>
              <label>Hero Subtext
                <textarea id="heroSubtext" class="input" rows="3" maxlength="220"></textarea>
              </label>
            </div>

            <h3 class="ds-subtitle">Footer</h3>
            <div class="ds-footer-rows">
              <div class="ds-footer-row">
                <div class="ds-footer-title">Home</div>
                <label>Label <input id="footerHome" class="input" type="text" maxlength="40"></label>
                <div class="ds-upload">
                  <label>Icon (SVG) <input id="footerIconHomeFile" class="input" type="file" accept="image/svg+xml"></label>
                  <button id="footerIconHomeUpload" class="btn secondary" type="button">Upload Icon</button>
                  <input id="footerIconHomeUrl" type="hidden">
                </div>
              </div>
              <div class="ds-footer-row">
                <div class="ds-footer-title">Listings</div>
                <label>Label <input id="footerListings" class="input" type="text" maxlength="40"></label>
                <div class="ds-upload">
                  <label>Icon (SVG) <input id="footerIconListingsFile" class="input" type="file" accept="image/svg+xml"></label>
                  <button id="footerIconListingsUpload" class="btn secondary" type="button">Upload Icon</button>
                  <input id="footerIconListingsUrl" type="hidden">
                </div>
              </div>
              <div class="ds-footer-row">
                <div class="ds-footer-title">AI Βοηθός</div>
                <label>Label <input id="footerAssistant" class="input" type="text" maxlength="40"></label>
                <div class="ds-upload">
                  <label>Icon (SVG) <input id="footerIconAssistantFile" class="input" type="file" accept="image/svg+xml"></label>
                  <button id="footerIconAssistantUpload" class="btn secondary" type="button">Upload Icon</button>
                  <input id="footerIconAssistantUrl" type="hidden">
                </div>
              </div>
              <div class="ds-footer-row">
                <div class="ds-footer-title">Info</div>
                <label>Label <input id="footerInfo" class="input" type="text" maxlength="40"></label>
                <div class="ds-upload">
                  <label>Icon (SVG) <input id="footerIconInfoFile" class="input" type="file" accept="image/svg+xml"></label>
                  <button id="footerIconInfoUpload" class="btn secondary" type="button">Upload Icon</button>
                  <input id="footerIconInfoUrl" type="hidden">
                </div>
              </div>
              <div class="ds-footer-row">
                <div class="ds-footer-title">Profile</div>
                <label>Label <input id="footerProfile" class="input" type="text" maxlength="40"></label>
                <div class="ds-upload">
                  <label>Icon (SVG) <input id="footerIconProfileFile" class="input" type="file" accept="image/svg+xml"></label>
                  <button id="footerIconProfileUpload" class="btn secondary" type="button">Upload Icon</button>
                  <input id="footerIconProfileUrl" type="hidden">
                </div>
              </div>
            </div>

            <h3 class="ds-subtitle">Contact</h3>
            <div class="ds-grid">
              <label>Phone Number <input id="phoneNumber" class="input" type="text" maxlength="30"></label>
              <label>WhatsApp Number <input id="whatsappNumber" class="input" type="text" maxlength="30"></label>
              <label>Company Email <input id="companyEmail" class="input" type="email" maxlength="120"></label>
            </div>

            <!-- ── Features / Modules ── -->
            <h3 class="ds-subtitle">Ενότητες Εφαρμογής</h3>
            <p class="ds-helper">Ενεργοποίηση / απενεργοποίηση ενοτήτων. Ο οδηγός δεν βλέπει τα κλειστά modules.</p>
            <div class="ds-features-list" id="dsFeaturesList">
              <div class="ds-feature-row">
                <div class="ds-feature-info">
                  <span class="ds-feature-icon">📖</span>
                  <div>
                    <span class="ds-feature-label">Χρωστάω / Μου Χρωστάνε</span>
                    <span class="ds-feature-desc">Έλεγχος οφειλών &amp; πιστώσεων</span>
                  </div>
                </div>
                <label class="ds-toggle">
                  <input type="checkbox" id="feature-debts" checked>
                  <span class="ds-toggle__slider"></span>
                </label>
              </div>
              <div class="ds-feature-row">
                <div class="ds-feature-info">
                  <span class="ds-feature-icon">📅</span>
                  <div>
                    <span class="ds-feature-label">Πελάτες &amp; Ραντεβού</span>
                    <span class="ds-feature-desc">Οργάνωση δουλειάς &amp; ημερολόγιο</span>
                  </div>
                </div>
                <label class="ds-toggle">
                  <input type="checkbox" id="feature-appointments" checked>
                  <span class="ds-toggle__slider"></span>
                </label>
              </div>
              <!-- Future modules: add another ds-feature-row here -->
            </div>

            <div class="ds-actions">
              <button id="saveBtn" class="btn" type="submit">Save</button>
              <div id="ds-status" class="ds-status" aria-live="polite"></div>
            </div>
          </form>
        </section>
      </div>

      <!-- ===== SOURCES TAB ===== -->
      <div class="tab-content" data-tab="sources">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-subtitle">Πηγές Διαδρομών</h3>
              <p class="ds-helper">Εφαρμογές και πηγές που χρησιμοποιεί ο οδηγός. Η προμήθεια αφαιρείται αυτόματα.</p>
            </div>
            <div class="ds-actions">
              <button id="dsSrcAddBtn" class="btn secondary" type="button">➕ Νέα Πηγή</button>
            </div>
          </div>

          <form id="ds-src-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--src">
              <label>Όνομα
                <input id="dsSrcName" class="input" type="text" maxlength="40" placeholder="π.χ. Uber">
              </label>
              <label>Προμήθεια (%)
                <input id="dsSrcCommission" class="input" type="number" step="0.5" min="0" max="100" placeholder="25">
              </label>
              <label>Χρώμα
                <input id="dsSrcColor" class="input" type="color" value="#059669">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsSrcActive" type="checkbox" checked>
                Ενεργή
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsSrcSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsSrcCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <div id="dsSrcList" class="ds-src-list"></div>
        </section>
      </div>

      <!-- ===== CAR EXPENSE CATEGORIES TAB ===== -->
      <div class="tab-content" data-tab="car-expense-cats">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-subtitle">Έξοδα Αυτοκινήτου</h3>
              <p class="ds-helper">Ομάδες εξόδων και κουμπιά που βλέπει ο οδηγός. Δύο επίπεδα: Ομάδα → Είδος εξόδου.</p>
            </div>
            <div class="ds-actions">
              <button id="dsCecAddGroupBtn" class="btn secondary" type="button">➕ Νέα Ομάδα</button>
            </div>
          </div>

          <!-- Add/Edit Group form -->
          <form id="ds-cec-group-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-group">
              <label>Όνομα Ομάδας
                <input id="dsCecGroupName" class="input" type="text" maxlength="60" placeholder="π.χ. Service">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsCecGroupActive" type="checkbox" checked>
                Ενεργή
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsCecGroupSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsCecGroupCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <!-- Add/Edit Item form (hidden until editing items) -->
          <form id="ds-cec-item-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-item">
              <label>Ομάδα
                <input id="dsCecItemGroupLabel" class="input" type="text" readonly disabled>
              </label>
              <label>Όνομα Εξόδου
                <input id="dsCecItemName" class="input" type="text" maxlength="60" placeholder="π.χ. Λάστιχα">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsCecItemActive" type="checkbox" checked>
                Ενεργό
              </label>
            </div>
            <div class="ds-grid ds-grid--cec-filters">
              <label>Τύπος
                <select id="dsCecItemType" class="input">
                  <option value="frequent">Καθημερινό</option>
                  <option value="monthly">Μηνιαίο</option>
                  <option value="annual">Ετήσιο</option>
                </select>
              </label>
              <label>Επηρεάζει κόστος/km
                <select id="dsCecItemAffectsKm" class="input">
                  <option value="true">Ναι</option>
                  <option value="false">Όχι</option>
                </select>
              </label>
              <label>Απαιτεί χιλιόμετρα
                <select id="dsCecItemRequiresKm" class="input">
                  <option value="true">Ναι</option>
                  <option value="false">Όχι</option>
                </select>
              </label>
              <label>Κατανομή
                <select id="dsCecItemAllocation" class="input">
                  <option value="vehicle">Ανά Όχημα</option>
                  <option value="trip">Ανά Διαδρομή</option>
                </select>
              </label>
              <label>Ανήκει σε
                <select id="dsCecItemExpenseRole" class="input">
                  <option value="professional">Επάγγελμα</option>
                  <option value="personal">Προσωπικά</option>
                  <option value="tax">Φόροι</option>
                </select>
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsCecItemSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsCecItemCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <div id="dsCecList" class="ds-cec-list"></div>
        </section>
      </div>

      <!-- ===== PERSONAL EXPENSE CATEGORIES TAB ===== -->
      <div class="tab-content" data-tab="personal-expense-cats">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-subtitle">Προσωπικά / Σπιτιού</h3>
              <p class="ds-helper">Ομάδες προσωπικών εξόδων και κουμπιά που βλέπει ο οδηγός. Δύο επίπεδα: Ομάδα → Είδος εξόδου.</p>
            </div>
            <div class="ds-actions">
              <button id="dsPecAddGroupBtn" class="btn secondary" type="button">➕ Νέα Ομάδα</button>
            </div>
          </div>

          <!-- Add/Edit Group form -->
          <form id="ds-pec-group-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-group">
              <label>Όνομα Ομάδας
                <input id="dsPecGroupName" class="input" type="text" maxlength="60" placeholder="π.χ. Πάγια Μηνιαία">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsPecGroupActive" type="checkbox" checked>
                Ενεργή
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsPecGroupSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsPecGroupCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <!-- Add/Edit Item form -->
          <form id="ds-pec-item-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-item">
              <label>Ομάδα
                <input id="dsPecItemGroupLabel" class="input" type="text" readonly disabled>
              </label>
              <label>Όνομα Εξόδου
                <input id="dsPecItemName" class="input" type="text" maxlength="60" placeholder="π.χ. Ενοίκιο">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsPecItemActive" type="checkbox" checked>
                Ενεργό
              </label>
            </div>
            <div class="ds-grid ds-grid--cec-filters">
              <label>Τύπος
                <select id="dsPecItemType" class="input">
                  <option value="frequent">Καθημερινό</option>
                  <option value="monthly">Μηνιαίο</option>
                  <option value="annual">Ετήσιο</option>
                </select>
              </label>
              <label>Επηρεάζει κόστος/km
                <select id="dsPecItemAffectsKm" class="input">
                  <option value="false">Όχι</option>
                  <option value="true">Ναι</option>
                </select>
              </label>
              <label>Απαιτεί χιλιόμετρα
                <select id="dsPecItemRequiresKm" class="input">
                  <option value="false">Όχι</option>
                  <option value="true">Ναι</option>
                </select>
              </label>
              <label>Κατανομή
                <select id="dsPecItemAllocation" class="input">
                  <option value="vehicle">Ανά Όχημα</option>
                  <option value="trip">Ανά Διαδρομή</option>
                </select>
              </label>
              <label>Ανήκει σε
                <select id="dsPecItemExpenseRole" class="input">
                  <option value="personal">Προσωπικά</option>
                  <option value="professional">Επάγγελμα</option>
                  <option value="tax">Φόροι</option>
                </select>
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsPecItemSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsPecItemCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <div id="dsPecList" class="ds-cec-list"></div>
        </section>
      </div>

      <!-- ===== TAX / INSURANCE EXPENSE CATEGORIES TAB ===== -->
      <div class="tab-content" data-tab="tax-expense-cats">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-subtitle">Φόροι / Ασφαλιστικά</h3>
              <p class="ds-helper">Ομάδες φόρων, ασφαλιστικών και επαγγελματικών εξόδων. Δύο επίπεδα: Ομάδα → Είδος εξόδου.</p>
            </div>
            <div class="ds-actions">
              <button id="dsTecAddGroupBtn" class="btn secondary" type="button">➕ Νέα Ομάδα</button>
            </div>
          </div>

          <!-- Add/Edit Group form -->
          <form id="ds-tec-group-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-group">
              <label>Όνομα Ομάδας
                <input id="dsTecGroupName" class="input" type="text" maxlength="60" placeholder="π.χ. Φορολογικά">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsTecGroupActive" type="checkbox" checked>
                Ενεργή
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsTecGroupSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsTecGroupCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <!-- Add/Edit Item form -->
          <form id="ds-tec-item-form" class="ds-src-form" hidden>
            <div class="ds-grid ds-grid--cec-item">
              <label>Ομάδα
                <input id="dsTecItemGroupLabel" class="input" type="text" readonly disabled>
              </label>
              <label>Όνομα Εξόδου
                <input id="dsTecItemName" class="input" type="text" maxlength="60" placeholder="π.χ. ΕΦΚΑ / ΤΕΒΕ">
              </label>
              <label class="ds-checkbox-label">
                <input id="dsTecItemActive" type="checkbox" checked>
                Ενεργό
              </label>
            </div>
            <div class="ds-grid ds-grid--cec-filters">
              <label>Τύπος
                <select id="dsTecItemType" class="input">
                  <option value="frequent">Καθημερινό</option>
                  <option value="monthly">Μηνιαίο</option>
                  <option value="annual">Ετήσιο</option>
                </select>
              </label>
              <label>Επηρεάζει κόστος/km
                <select id="dsTecItemAffectsKm" class="input">
                  <option value="false">Όχι</option>
                  <option value="true">Ναι</option>
                </select>
              </label>
              <label>Απαιτεί χιλιόμετρα
                <select id="dsTecItemRequiresKm" class="input">
                  <option value="false">Όχι</option>
                  <option value="true">Ναι</option>
                </select>
              </label>
              <label>Κατανομή
                <select id="dsTecItemAllocation" class="input">
                  <option value="vehicle">Ανά Όχημα</option>
                  <option value="trip">Ανά Διαδρομή</option>
                </select>
              </label>
              <label>Ανήκει σε
                <select id="dsTecItemExpenseRole" class="input">
                  <option value="tax">Φόροι</option>
                  <option value="professional">Επάγγελμα</option>
                  <option value="personal">Προσωπικά</option>
                </select>
              </label>
            </div>
            <div class="ds-actions">
              <button id="dsTecItemSaveBtn" class="btn" type="submit">Αποθήκευση</button>
              <button id="dsTecItemCancelBtn" class="btn secondary" type="button">Ακύρωση</button>
            </div>
          </form>

          <div id="dsTecList" class="ds-cec-list"></div>
        </section>
      </div>

      <!-- ===== OVERVIEW TAB ===== -->
      <div class="tab-content" data-tab="overview">
        <section class="panel">

          <!-- Filters -->
          <div class="ds-admin-filters">
            <div class="ds-admin-filter-row">
              <label class="ds-admin-filter-label">Οδηγός:
                <select id="adminDriverSelect" class="input ds-admin-select">
                  <option value="">Όλοι οι οδηγοί</option>
                </select>
              </label>
              <label class="ds-admin-filter-label">Από:
                <input id="adminFrom" class="input" type="date" />
              </label>
              <label class="ds-admin-filter-label">Έως:
                <input id="adminTo" class="input" type="date" />
              </label>
              <label class="ds-admin-filter-label">Ομαδοποίηση:
                <select id="adminPeriod" class="input">
                  <option value="day">Ημέρα</option>
                  <option value="week">Εβδομάδα</option>
                  <option value="month" selected>Μήνας</option>
                </select>
              </label>
              <button id="adminStatsLoad" class="btn" type="button">Φόρτωση</button>
            </div>
          </div>

          <!-- Summary Cards -->
          <div class="ds-admin-summary">
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Συνολικά Μεικτά</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--gross" data-admin-gross>0,00 €</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Συνολικά Καθαρά</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--net" data-admin-net>0,00 €</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Προμήθειες</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--commission" data-admin-commission>0,00 €</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Διαδρομές</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--trips" data-admin-count>0</span>
            </div>
          </div>

          <!-- ═══ Performance Analysis (from real data) ═══ -->
          <h3 class="ds-admin-subtitle">📊 Ρυθμός Απόδοσης</h3>
          <div class="ds-admin-perf" data-admin-perf>
            <div class="ds-admin-perf__grid">
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Μέρες Εργασίας</span>
                <span class="ds-admin-perf__value" data-admin-perf-days>—</span>
              </div>
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Σύνολο Διαδρομών</span>
                <span class="ds-admin-perf__value" data-admin-perf-trips>—</span>
              </div>
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Καθαρά Έσοδα</span>
                <span class="ds-admin-perf__value ds-admin-perf__value--accent" data-admin-perf-net>—</span>
              </div>
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Μ.Ο. / Ημέρα</span>
                <span class="ds-admin-perf__value" data-admin-perf-avg>—</span>
              </div>
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Πρόβλεψη Μήνα</span>
                <span class="ds-admin-perf__value" data-admin-perf-proj>—</span>
              </div>
              <div class="ds-admin-perf__item">
                <span class="ds-admin-perf__label">Έξοδα Μήνα</span>
                <span class="ds-admin-perf__value ds-admin-perf__value--expense" data-admin-perf-expenses>—</span>
              </div>
              <div class="ds-admin-perf__item ds-admin-perf__item--wide">
                <span class="ds-admin-perf__label">Εκτίμηση μετά τα έξοδα</span>
                <span class="ds-admin-perf__value" data-admin-perf-after>—</span>
              </div>
            </div>
          </div>

          <!-- Source breakdown -->
          <h3 class="ds-admin-subtitle">Ανά Πηγή</h3>
          <div class="ds-admin-source-bars" data-admin-source-bars></div>

          <!-- Timeline -->
          <h3 class="ds-admin-subtitle">Χρονολόγιο</h3>
          <div class="ds-admin-table-wrap">
            <table class="ds-admin-table">
              <thead>
                <tr>
                  <th>Περίοδος</th>
                  <th>Διαδρομές</th>
                  <th>Μεικτά</th>
                  <th>Καθαρά</th>
                  <th>Προμήθεια</th>
                </tr>
              </thead>
              <tbody data-admin-timeline-tbody></tbody>
            </table>
          </div>
          <div class="ds-admin-empty" data-admin-timeline-empty style="display:none">
            Δεν υπάρχουν δεδομένα
          </div>

        </section>
      </div>

      <!-- ===== DRIVERS TAB ===== -->
      <div class="tab-content" data-tab="drivers">
        <!-- Create Driver Form -->
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-admin-subtitle">Δημιουργία Οδηγού</h3>
              <p class="ds-admin-helper">Προσθέστε νέο οδηγό στο σύστημα</p>
            </div>
          </div>
          <form id="adminCreateDriverForm" class="ds-admin-create-driver-form">
            <div class="ds-admin-form-row">
              <div class="ds-admin-form-field">
                <label for="newDriverName">Ονοματεπώνυμο *</label>
                <input id="newDriverName" class="input" type="text" placeholder="π.χ. Γιάννης Παπαδόπουλος" required />
              </div>
              <div class="ds-admin-form-field">
                <label for="newDriverPhone">Τηλέφωνο *</label>
                <input id="newDriverPhone" class="input" type="tel" placeholder="π.χ. 6912345678" required />
              </div>
              <div class="ds-admin-form-field">
                <label for="newDriverEmail">Email</label>
                <input id="newDriverEmail" class="input" type="email" placeholder="π.χ. driver@email.com" />
              </div>
            </div>
            <button type="submit" class="btn btn-primary ds-admin-create-btn">➕ Δημιουργία Οδηγού</button>
            <div class="ds-admin-form-msg" data-admin-create-driver-msg></div>
          </form>
        </section>

        <!-- Drivers List -->
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-admin-subtitle">Εγγεγραμμένοι Οδηγοί</h3>
              <p class="ds-admin-helper">Οι οδηγοί που έχουν εγγραφεί στο σύστημα</p>
            </div>
            <div class="ds-admin-search-wrap">
              <input id="adminDriverSearch" class="input ds-admin-search" type="text"
                     placeholder="Αναζήτηση ονόματος, τηλεφώνου, email…" />
            </div>
          </div>
          <div class="ds-admin-drivers-list" data-admin-drivers-list>
            <div class="ds-admin-empty">Φόρτωση…</div>
          </div>
        </section>
      </div>

      <!-- ===== ENTRIES TAB ===== -->
      <div class="tab-content" data-tab="entries">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-admin-subtitle">Πρόσφατες Καταχωρήσεις</h3>
              <p class="ds-admin-helper">Αναλυτική λίστα καταχωρήσεων από όλους τους οδηγούς</p>
            </div>
            <div class="ds-admin-filters ds-admin-filters--inline">
              <label>Οδηγός:
                <select id="adminEntriesDriverSelect" class="input ds-admin-select">
                  <option value="">Όλοι</option>
                </select>
              </label>
              <label>Από:
                <input id="adminEntriesFrom" class="input" type="date" />
              </label>
              <label>Έως:
                <input id="adminEntriesTo" class="input" type="date" />
              </label>
              <button id="adminEntriesLoad" class="btn" type="button">Φόρτωση</button>
            </div>
          </div>
          <div class="ds-admin-table-wrap">
            <table class="ds-admin-table ds-admin-table--entries">
              <thead>
                <tr>
                  <th>Ημ/νία</th>
                  <th>Ώρα</th>
                  <th>Οδηγός</th>
                  <th>Πηγή</th>
                  <th>Μεικτά</th>
                  <th>Καθαρά</th>
                  <th>Σημείωση</th>
                </tr>
              </thead>
              <tbody data-admin-entries-tbody></tbody>
            </table>
          </div>
          <div class="ds-admin-empty" data-admin-entries-empty style="display:none">
            Δεν υπάρχουν καταχωρήσεις
          </div>
        </section>
      </div>

      <!-- ===== EXPENSES TAB ===== -->
      <div class="tab-content" data-tab="expenses">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-admin-subtitle">Έξοδα Οδηγών</h3>
              <p class="ds-admin-helper">Προβολή εξόδων ανά οδηγό και κατηγορία</p>
            </div>
            <div class="ds-admin-filters ds-admin-filters--inline">
              <label>Οδηγός:
                <select id="adminExpDriverSelect" class="input ds-admin-select">
                  <option value="">Όλοι</option>
                </select>
              </label>
              <label>Κατηγορία:
                <select id="adminExpCatSelect" class="input ds-admin-select">
                  <option value="">Όλες</option>
                  <option value="car">Αυτοκίνητο</option>
                  <option value="personal">Προσωπικά / Σπιτιού</option>
                  <option value="tax">Φόροι / Ασφαλιστικά</option>
                </select>
              </label>
              <label>Από:
                <input id="adminExpFrom" class="input" type="date" />
              </label>
              <label>Έως:
                <input id="adminExpTo" class="input" type="date" />
              </label>
              <button id="adminExpLoad" class="btn" type="button">Φόρτωση</button>
            </div>
          </div>

          <!-- Expense Summary Cards (click to drill-down) -->
          <div class="ds-admin-summary ds-admin-summary--expenses" data-admin-exp-summary>
            <div class="ds-admin-summary-card ds-admin-summary-card--clickable" data-admin-exp-car-card>
              <span class="ds-admin-summary-label">🚗 Αυτοκίνητο</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--commission" data-admin-exp-car>0,00 €</span>
              <span class="ds-admin-summary-hint">Πατήστε για ανάλυση</span>
            </div>
            <div class="ds-admin-summary-card ds-admin-summary-card--clickable" data-admin-exp-personal-card>
              <span class="ds-admin-summary-label">🏠 Προσωπικά / Σπιτιού</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--commission" data-admin-exp-personal>0,00 €</span>
              <span class="ds-admin-summary-hint">Πατήστε για ανάλυση</span>
            </div>
            <div class="ds-admin-summary-card ds-admin-summary-card--clickable" data-admin-exp-tax-card>
              <span class="ds-admin-summary-label">🏛️ Φόροι / Ασφαλιστικά</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--commission" data-admin-exp-tax>0,00 €</span>
              <span class="ds-admin-summary-hint">Πατήστε για ανάλυση</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Σύνολο Εξόδων</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--gross" data-admin-exp-total>0,00 €</span>
            </div>
          </div>

          <!-- Drill-down panel (hidden by default) -->
          <div class="ds-admin-drilldown" data-admin-exp-drilldown hidden>
            <div class="ds-admin-drilldown__header">
              <button class="ds-admin-drilldown__back" data-admin-exp-drill-back>Πίσω</button>
              <h4 class="ds-admin-drilldown__title" data-admin-exp-drill-title>Ανάλυση</h4>
            </div>
            <div class="ds-admin-drilldown__body" data-admin-exp-drill-body></div>
          </div>

          <!-- Expenses Table -->
          <div class="ds-admin-table-wrap">
            <table class="ds-admin-table ds-admin-table--expenses">
              <thead>
                <tr>
                  <th>Ημ/νία</th>
                  <th>Οδηγός</th>
                  <th>Κατηγορία</th>
                  <th>Περιγραφή</th>
                  <th>Ποσό</th>
                </tr>
              </thead>
              <tbody data-admin-expenses-tbody></tbody>
            </table>
          </div>
          <div class="ds-admin-empty" data-admin-expenses-empty style="display:none">
            Δεν υπάρχουν έξοδα
          </div>
        </section>
      </div>

      <!-- ===== DEBTS TAB (Οφειλές) ===== -->
      <div class="tab-content" data-tab="debts">
        <section class="panel">
          <div class="ds-section-header">
            <div>
              <h3 class="ds-admin-subtitle">Έλεγχος Οφειλών</h3>
              <p class="ds-admin-helper">Εκκρεμότητες χρημάτων (Πιστώσεις / Χρεώσεις)</p>
            </div>
            <div class="ds-admin-filters ds-admin-filters--inline">
              <label>Οδηγός:
                <select id="adminDebtsDriverSelect" class="input ds-admin-select">
                  <option value="">Όλοι</option>
                </select>
              </label>
              <label>Τύπος:
                <select id="adminDebtsTypeSelect" class="input ds-admin-select">
                  <option value="">Όλα</option>
                  <option value="owed">Πιστώσεις</option>
                  <option value="owe">Χρεώσεις</option>
                </select>
              </label>
              <button id="adminDebtsLoad" class="btn" type="button">Φόρτωση</button>
            </div>
          </div>

          <!-- Summary -->
          <div class="ds-admin-summary" data-admin-debts-summary>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">↗ Πιστώσεις</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--gross" data-admin-debts-total-owed>0,00 €</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">↙ Χρεώσεις</span>
              <span class="ds-admin-summary-value ds-admin-summary-value--commission" data-admin-debts-total-owe>0,00 €</span>
            </div>
            <div class="ds-admin-summary-card">
              <span class="ds-admin-summary-label">Σύνολο εγγραφών</span>
              <span class="ds-admin-summary-value" data-admin-debts-count>0</span>
            </div>
          </div>

          <!-- Table -->
          <div class="ds-admin-table-wrap">
            <table class="ds-admin-table">
              <thead>
                <tr>
                  <th>Ημ/νία</th>
                  <th>Οδηγός</th>
                  <th>Όνομα</th>
                  <th>Τύπος</th>
                  <th>Ποσό</th>
                  <th>Σημείωση</th>
                  <th></th>
                </tr>
              </thead>
              <tbody data-admin-debts-tbody></tbody>
            </table>
          </div>
          <div class="ds-admin-empty" data-admin-debts-empty style="display:none">
            Δεν υπάρχουν οφειλές
          </div>
        </section>
      </div>

    </main>

    <div id="ds-toast" class="ds-toast" role="status" aria-live="polite"></div>

    <!-- Confirm Modal -->
    <div id="dsConfirmModal" class="ds-modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="ds-modal__backdrop" data-action="close"></div>
      <div class="ds-modal__content" role="document">
        <h4 id="dsConfirmTitle" class="ds-modal__title">Επιβεβαίωση</h4>
        <p id="dsConfirmMessage" class="ds-modal__message"></p>
        <div class="ds-modal__actions">
          <button id="dsConfirmCancel" class="btn secondary" type="button">Ακύρωση</button>
          <button id="dsConfirmOk" class="btn btn-danger-solid" type="button">Διαγραφή</button>
        </div>
      </div>
    </div>

    <script src="/admin/js/admin-driverssystem-ui.js"></script>
    <script src="/admin/js/admin-driverssystem-stats.js"></script>
    <script src="/js/admin-theme-toggle.js"></script>
    <script src="/pwa-install.js" defer></script>
    <script src="/js/main.js"></script>
    <script src="/admin/js/admin-footer.js"></script>
  </body>
</html>
