/* Admin Home panel shell: tabs + responsive container */

:root {
  --ah-bg: #1B2A3A;
  --ah-gradient: linear-gradient(180deg, #1B2A3A 0%, #223345 100%);
  --ah-gold: #D4AF37;
  --ah-nav-h-desktop: 56px;
  --ah-nav-h-tablet: 52px;
  --ah-nav-h-mobile: 64px;
  --ah-radius: 12px;
  --ah-gap: 10px;
}

body.admin-home {
  margin: 0;
  background: var(--ah-gradient);
  color: #ecf0f1;
  min-height: 100vh;
}

/* One-time login bar */
.login-bar {
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 6px 10px;
  background: rgba(0,0,0,0.25);
  backdrop-filter: blur(6px);
  /* Take out of normal flow so it doesn't create vertical gap */
  position: fixed;
  top: 8px;
  right: 12px;
  z-index: 100;
  border-radius: 10px;
}
.login-bar label { display: inline-flex; align-items: center; gap: 6px; }
.login-bar input { padding: 6px 8px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); background: rgba(0,0,0,0.2); color: #fff; }
.login-bar .hint { opacity: 0.85; font-size: 12px; }

/* Phones: prevent iOS zoom on focus */
@media (max-width: 576px) {
  .login-bar input { font-size: 16px; }
  /* Shrink the whole login bar by ~20% visually without breaking iOS no-zoom rule */
  .login-bar {
    transform: scale(0.8);
    transform-origin: top right;
    /* Keep it fully within the viewport on narrow phones */
    right: 8px;
    max-width: calc(100vw - 16px);
    flex-wrap: wrap;
    gap: 6px;
  }
  /* Move status hint on a new line to avoid horizontal overflow */
  .login-bar .hint { flex-basis: 100%; text-align: right; margin-top: 2px; }
}

/* Tabs bar */
.tabs {
  /* Permanently visible bottom navigation across all viewports */
  position: fixed; left: 0; right: 0; bottom: 0; z-index: 80;
  width: 100%;
  display: flex; gap: 4px; align-items: stretch; justify-content: space-around;
  height: var(--ah-nav-h-desktop);
  padding: 6px;
  background: rgba(10,18,28,0.82); /* dark navy */
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(255,255,255,0.1);
  border-bottom: none;
  box-shadow: 0 -6px 14px rgba(0,0,0,0.35);
  overflow-x: auto; -webkit-overflow-scrolling: touch;
}
.tab {
  appearance: none; border: none; cursor: pointer;
  background: transparent; color: #fff;
  padding: 8px 12px; border-radius: 10px;
  font-weight: 700; display: inline-flex; align-items: center; gap: 8px;
}
.tab .label { opacity: 0.95; }
.tab.active { position: relative; }
.tab.active::after {
  content: ""; position: absolute; left: 10px; right: 10px; bottom: 2px;
  height: 3px; background: var(--ah-gold); border-radius: 999px;
  box-shadow: 0 0 10px rgba(212,175,55,0.55);
}

/* Content area */
.content { position: relative; min-height: calc(100vh - var(--ah-nav-h-desktop) - 42px); padding-bottom: var(--ah-nav-h-desktop); }
/* Stabilize: remove slide-in animations to avoid layout "wobble" */
.view { display: none; opacity: 0; transform: none; transition: none; }
.view.active { display: block; opacity: 1; transform: none; transition: none; }

.home-wrap { padding: 16px; }
.kpis { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.kpi { background: rgba(0,0,0,0.25); border: 1px solid rgba(255,255,255,0.12); border-radius: var(--ah-radius); padding: 12px; }
.kpi-title { opacity: 0.85; font-size: 12px; }
.kpi-value { font-size: 26px; font-weight: 800; margin-top: 6px; }
.note { opacity: 0.9; }

/* Iframes fill remaining height */
.view iframe { width: 100%; height: calc(100vh - var(--ah-nav-h-desktop) - 48px); border: none; background: var(--ah-gradient); border-radius: 0; transition: none; opacity: 1; display: block; }
/* Remove any visual gap at the top by eliminating rounded corners */
.view iframe { border-radius: 0 !important; display: block; }

/* Single sticky top bar with title */
.admin-topbar {
  position: sticky; top: 0; z-index: 60;
  background: rgba(10,18,28,0.9);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 6px 16px rgba(0,0,0,0.35);
}
.admin-topbar .title {
  font-size: 18px; font-weight: 800; color: var(--ah-gold);
  padding: 10px 14px;
}

/* Tablet */
@media (min-width: 769px) and (max-width: 1024px) {
  .content { min-height: calc(100vh - var(--ah-nav-h-tablet) - 42px); padding-bottom: var(--ah-nav-h-tablet); }
  .view iframe { height: calc(100vh - var(--ah-nav-h-tablet) - 48px); }
}

/* Mobile: Tabs bar becomes a fixed bottom navigation */
@media (max-width: 768px) {
  .tabs { height: var(--ah-nav-h-mobile); background: rgba(10,18,28,0.72); }
  .tab { flex: 1 1 auto; justify-content: center; padding: 6px; font-size: 13px; }
  /* Show labels for ALL tabs on mobile so they don't look empty next to Home */
  .tab .label { display: inline; }

  .content { padding-bottom: var(--ah-nav-h-mobile); min-height: calc(100vh - var(--ah-nav-h-mobile) - 42px); }
  .view iframe { height: calc(100vh - var(--ah-nav-h-mobile) - 48px); }

  .kpis { grid-template-columns: 1fr; }
}
