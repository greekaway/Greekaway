/* admin-cleanup.css — compact, readable, no effects; focus on structure, spacing, colors */

/* Base theme: dark navy background, white text, gold titles */
html { background: #0b1a2a; }
body.admin-main {
  background: #0b1a2a;
  color: #ffffff;
  font-size: 14px;
  line-height: 1.4;
  margin: 0 !important; /* eliminate outer white band from body margin collapse */
  padding: 0 8px 0 8px; /* no top gap; slight side padding for breathing room */
}
/* Remove top white gap from #main so sticky payments bar touches the top */
body.admin-main #main { padding-top: 0 !important; }

body.admin-main h2,
body.admin-main h3 {
  color: #d4af37; /* gold titles */
  font-weight: 700;
  margin: 8px 0 6px 0;
}

/* Make top-level page title sticky (used by admin-payments.html) */
body.admin-main h2 {
  position: sticky;
  top: 0;
  z-index: 140;
  background: #0b1a2a;
}

/* Sticky helper for section bars (e.g., Bookings title + filters) */
.sticky-bar {
  position: sticky;
  top: 0; /* stick to the top of the scrolling context (iframe or page) */
  z-index: 120; /* float above sticky table headers */
  background: #0E1520; /* solid dark backer to avoid see-through */
  margin: 0;
  border: 0;
}

/* Remove any vertical gap before bookings section */
body.admin-main #bookingsPanel { margin-top: 0 !important; }
/* Ensure legacy empty panel never shows (it caused a white gap above bookings) */
/* Note: Do not globally hide #main; some standalone admin pages (e.g., Payments) render inside it. */

/* Keep bookings header + filters readable over content while scrolling */
#bookingsTable thead th {
  position: sticky;
  top: var(--bookings-sticky-offset, 0px); /* set by JS to match sticky bar height */
  z-index: 90; /* below sticky bar but above rows */
  background: #0E1520; /* solid dark backer */
  color: #ffffff; /* ensure readability on dark header */
}

/* Keep payments header readable and aligned below its sticky bar */
#paymentsTable thead th {
  position: sticky;
  top: var(--payments-sticky-offset, 0px);
  z-index: 90;
  background: #0E1520;
  color: #ffffff;
}

/* Keep tables readable on white background */
#paymentsContainer table,
#bookingsContainer table {
  background: #ffffff;
  color: #111111;
}

#paymentsContainer table th,
#paymentsContainer table td,
#bookingsContainer table th,
#bookingsContainer table td {
  color: #111111;
}

/* Buttons: smaller, plain, consistent */
.btn,
#auth button,
#refreshBookings,
#exportBookings {
  background: #20344d; /* solid, no gradient/shadow */
  color: #ffffff;
  border: none;
  padding: 4px 10px;
  font-size: 13px;
  line-height: 1.2;
  border-radius: 3px;
  cursor: pointer;
}

.btn[disabled] {
  opacity: 0.7;
  cursor: default;
}

/* Inputs/selects: compact, readable */
body.admin-main input,
body.admin-main select {
  height: 28px;
  padding: 2px 6px;
  font-size: 13px;
  color: #111111;
  background: #ffffff;
  border: 1px solid #cccccc;
  border-radius: 2px;
}

/* Phones: avoid iOS auto-zoom on focus by using >=16px font-size; shorten width ~10% */
@media (max-width: 576px) {
  body.admin-main input,
  body.admin-main select { font-size: 16px; }
  body.admin-main input[type=text],
  body.admin-main input[type=password] { width: 270px; }
}

/* Labels inline with controls */
body.admin-main label {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin: 2px 6px 2px 0;
  color: #ffffff;
}

/* Rows of controls: tight alignment and spacing */
.payments-row,
.actions,
.admin-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px; /* 6–8px spacing target */
  margin: 6px 0;
}

/* Filters row: compact pill with solid background, no effects */
.filters-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  padding: 6px;
  background: #0f2338; /* solid block to separate filters from background */
  border-radius: 4px; /* minimal rounding, no shadow */
}
/* Align meta controls to the right within filters row */
#filters { display: flex; }
#filters .filters-left { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; }
#filters .filters-meta-right { margin-left: auto; display: flex; align-items: center; flex-wrap: wrap; gap: 8px; }

/* Ensure payments filters themselves are sticky as requested by the visual checks */
#filters {
  position: sticky;
  top: 0;
  z-index: 130;
}

/* Payments meta row: split left/right sets neatly */
.payments-row.meta {
  justify-content: space-between;
}
.payments-row.meta .left-set,
.payments-row.meta .right-set {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

/* Backup card: compact with side-by-side text & button */
.admin-card.admin-backup-card,
.admin-card.admin-stripe-tools {
  background: #0f2236;
  border: none;
  border-radius: 4px;
  padding: 8px;
  max-width: 640px; /* reduce width */
}

.admin-card.admin-backup-card .admin-card-body,
.admin-card.admin-stripe-tools .admin-card-body {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

/* Override inline margins inside backup card */
.admin-card.admin-backup-card #backup {
  margin: 0 !important;
  color: #ffffff;
}
.admin-card.admin-backup-card .actions {
  margin: 0 !important;
}

/* Stripe tools: unify inner spacing and text color with dark card */
.admin-card.admin-stripe-tools .admin-row { margin: 0 !important; }
.admin-card.admin-stripe-tools h3 { margin: 0 0 6px 0 !important; color: #d4af37; }
.admin-card.admin-stripe-tools .admin-card-body { color: #ffffff; }

/* Table headers minimal styling; borders already inline */
.admin-main table thead th {
  font-weight: 600;
}

/* Bookings sticky area: compact spacing but room for a hint line */
#bookingsStickyBar { padding: 6px 8px; padding-bottom: 6px; }
#bookingsStickyBar h3 { margin: 0 0 4px 0 !important; }
#bookingsStickyBar .admin-row { margin: 0 0 4px 0 !important; }
#bookingsColumnsHint { color: #ffffff; opacity: 0.95; font-size: 12px; line-height: 1.3; margin-left: -8px; margin-right: -8px; }
#bookingsColumnsHint .hint-scroll { overflow-x: auto; overflow-y: hidden; }
#bookingsHintTable { width: auto; border-collapse: collapse; border-spacing: 0; table-layout: fixed; }
/* Hint header cells mirror body cell box model so widths line up perfectly */
#bookingsHintTable thead th {
  color: #ffffff;
  font-weight: 600;
  background: transparent;
  padding: 6px;
  white-space: nowrap;
  text-align: center; /* center all header titles as requested */
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; /* include borders in the set width */
  border: 1px solid #e6edf5; /* match tbody cell borders to avoid cumulative shifts */
}
#bookingsHintTable thead th:not(:last-child) { border-right: 1px solid #e6edf5; }
#bookingsHintTable thead th:first-child { border-left: 1px solid #e6edf5; }
#bookingsHintTable thead th:last-child { border-right: 1px solid #e6edf5; }
/* Keep metadata (view button) centered */
#bookingsHintTable thead th:nth-child(17) { text-align: center; }
#bookingsContainer { margin-top: 0 !important; overflow-x: auto; }

/* Payments sticky area spacing mirrors bookings */
#paymentsStickyBar { padding: 6px 8px; padding-bottom: 6px; }
#paymentsStickyBar h3 { margin: 0 0 4px 0 !important; }
#paymentsStickyBar .admin-row, #paymentsStickyBar .payments-row { margin: 0 0 4px 0 !important; }
#paymentsContainer { margin-top: 0 !important; overflow-x: auto; }

/* Payments inline columns hint: boxed headers aligned with table columns */
#paymentsColumnsHint { color: #ffffff; opacity: 0.95; font-size: 12px; line-height: 1.3; margin-left: -8px; margin-right: -8px; padding: 2px 8px; }
#paymentsColumnsHint .hint-scroll { overflow-x: auto; overflow-y: hidden; }
#paymentsHintTable { width: auto; border-collapse: collapse; border-spacing: 0; table-layout: fixed; }
/* Mirror tbody cell box model so widths line up closely */
#paymentsHintTable thead th {
  color: #ffffff;
  font-weight: 600;
  background: transparent;
  padding: 6px;
  white-space: nowrap;
  text-align: center; /* center all header titles as requested */
  overflow: hidden;
  text-overflow: ellipsis;
  box-sizing: border-box; /* include borders in the set width */
  border: 1px solid #e6edf5; /* match tbody cell borders to avoid cumulative shifts */
}
#paymentsHintTable thead th:not(:last-child) { border-right: 1px solid #e6edf5; }
#paymentsHintTable thead th:first-child { border-left: 1px solid #e6edf5; }
#paymentsHintTable thead th:last-child { border-right: 1px solid #e6edf5; }
/* Keep metadata column centered */
#paymentsHintTable thead th:nth-child(7) { text-align: center; }

/* Reduce payments filters size by ~25% */
#paymentsStickyBar #filters { padding: 7px !important; }
#paymentsStickyBar .filters-row { gap: 9px; }
#paymentsStickyBar .filters-row label { font-size: 13.75px; gap: 4px; margin: 2px 4px 2px 0; }
#paymentsStickyBar .filters-row input,
#paymentsStickyBar .filters-row select { height: 29px; padding: 3px 6px; font-size: 13.75px; }

/* Reduce action buttons size by ~25% (only in payments sticky bar) */
#paymentsStickyBar .actions { gap: 6px; }
#paymentsStickyBar .actions .btn,
#paymentsStickyBar .actions button {
  font-size: 10px;
  padding: 2px 8px;
  line-height: 1.2;
  border-radius: 3px;
}

/* Ensure table cell padding matches hint header padding for perfect alignment */
#bookingsContainer table th,
#bookingsContainer table td { padding: 6px; vertical-align: middle; }

/* Policy violations: subtle highlight and badge style */
.policy-row-warning { background: #fff5f5; }
.policy-violation-badge { text-decoration: none; cursor: pointer; }

/* Column width balancing for readability (desktop/tablet) */
@media (min-width: 769px) {
  /* Name */
  #bookingsContainer table td:nth-child(5) { min-width: 160px; white-space: nowrap; }
  /* Email */
  #bookingsContainer table td:nth-child(6) { min-width: 240px; white-space: nowrap; }
  /* Payment Type */
  #bookingsContainer table td:nth-child(11) { min-width: 130px; white-space: nowrap; }
  /* Partner */
  #bookingsContainer table td:nth-child(12) { min-width: 140px; white-space: nowrap; }
  /* Partner Share (€) */
  #bookingsContainer table td:nth-child(13) { min-width: 150px; }
  /* Greekaway Comm. */
  #bookingsContainer table td:nth-child(14) { min-width: 160px; }
  /* Amounts: keep number + € together, right aligned */
  #bookingsContainer table td:nth-child(9),   /* Price */
  #bookingsContainer table td:nth-child(13),  /* Partner Share */
  #bookingsContainer table td:nth-child(14)   /* Greekaway Comm */
  { white-space: nowrap; text-align: right; }
  /* Seats also right aligned */
  #bookingsContainer table td:nth-child(8) { text-align: right; }
  /* View column consistent width and centered */
  #bookingsContainer table td:nth-child(17) { min-width: 84px; text-align: center; }
}
/* Hide the header rows entirely so data starts right away; sticky hint shows titles */
#bookingsTable thead { display: none !important; }
#paymentsTable thead { display: none !important; }

/* Status badge readability against white rows */
.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 3px;
  background: #eef2f7;
  color: #111111;
}

/* Layout helpers for columns/sections */
.admin-section {
  margin-bottom: 12px;
}

/* Auth box at top */
#auth label { margin-right: 8px; }

/* Responsive adjustments for mobile/tablet */
@media (max-width: 920px) {
  .payments-row.meta { gap: 8px; }
}

@media (max-width: 768px) {
  /* Hide the desktop/tablet-only hint line on mobile (mobile already shows field names) */
  #bookingsColumnsHint { display: none; }
  #paymentsColumnsHint { display: none; }
  /* For payments on mobile, hide table header to reduce vertical clutter */
  #paymentsTable thead { display: none; }

  /* Payments mobile cards: keep field titles (labels) on the left */
  #paymentsTable tbody tr td { text-align: left; }
  #paymentsTable tbody tr td::before { justify-self: start; text-align: left; }
  /* Amount value remains right-aligned, but its label stays left */
  #paymentsTable tbody tr td.amount { text-align: right !important; }
  #paymentsTable tbody tr td.amount::before { justify-self: start; text-align: left; }
  .payments-row.meta {
    flex-direction: column;
    align-items: stretch;
  }
  .payments-row.meta .right-set {
    justify-content: flex-start;
  }
  .filters-row label {
    width: 100%;
  }
  .admin-card.admin-backup-card {
    max-width: 100%;
  }
}

/* Phones only: shrink sticky titles and filter controls by ~30% (not tablets/desktop) */
@media (max-width: 576px) {
  /* Compact sticky bar padding */
  #bookingsStickyBar,
  #paymentsStickyBar {
    padding: 4px 6px !important; /* 6x8 -> ~4x6 */
  }

  /* Section titles on blue sticky background */
  #bookingsStickyBar h3,
  #paymentsStickyBar h3 {
    font-size: 0.7rem; /* ~30% smaller than default */
    margin: 0 0 3px 0 !important;
  }

  /* Bookings: filters row in sticky bar */
  #bookingsStickyBar .admin-row label {
    font-size: 10px; /* 13 -> ~10 */
    gap: 4px;
    margin: 1px 4px 1px 0;
  }
  #bookingsStickyBar .admin-row input,
  #bookingsStickyBar .admin-row select {
    height: 20px; /* 28 -> ~20 */
    padding: 1px 4px;
    font-size: 10px;
  }
  #bookingsStickyBar button {
    font-size: 10px;
    padding: 2px 7px;
    line-height: 1.1;
    border-radius: 2px;
  }

  /* Payments: filters row and actions in sticky bar */
  #paymentsStickyBar #filters {
    padding: 4px !important; /* 7-8 -> 4 */
  }
  #paymentsStickyBar .filters-row { gap: 6px; }
  /* Override the generic mobile rule: keep payments filter labels inline on phones */
  #paymentsStickyBar .filters-row label { width: auto !important; }
  #paymentsStickyBar .filters-row label {
    font-size: 10px; /* 13.75 -> ~10 */
    gap: 4px;
    margin: 1px 4px 1px 0;
  }
  #paymentsStickyBar .filters-row input,
  #paymentsStickyBar .filters-row select {
    height: 20px; /* 29 -> ~20 */
    padding: 1px 4px;
    font-size: 10px;
  }
  #paymentsStickyBar .actions .btn,
  #paymentsStickyBar .actions button {
    font-size: 9.5px; /* a touch smaller to fit */
    padding: 2px 7px;
    line-height: 1.1;
    border-radius: 2px;
  }

  /* Inline column-hint lines within sticky area */
  #bookingsColumnsHint,
  #paymentsColumnsHint {
    font-size: 9px; /* 12 -> ~9 */
    line-height: 1.25;
  }

  /* Further reductions as requested */
  /* Bookings: minus extra ~10% */
  #bookingsStickyBar h3 { font-size: 0.63rem !important; margin: 0 0 2px 0 !important; }
  #bookingsStickyBar .admin-row label { font-size: 9px; gap: 3px; margin: 1px 3px 1px 0; }
  #bookingsStickyBar .admin-row input,
  #bookingsStickyBar .admin-row select { height: 18px; padding: 1px 3px; font-size: 9px; }
  #bookingsStickyBar button { font-size: 9px; padding: 2px 6px; line-height: 1.1; border-radius: 2px; }

  /* Payments: minus extra ~25% */
  #paymentsStickyBar h3 { font-size: 0.525rem !important; margin: 0 0 2px 0 !important; }
  #paymentsStickyBar #filters { padding: 3px !important; }
  #paymentsStickyBar .filters-row { gap: 5px; }
  #paymentsStickyBar .filters-row label { font-size: 7.5px; gap: 3px; margin: 1px 3px 1px 0; }
  #paymentsStickyBar .filters-row input,
  #paymentsStickyBar .filters-row select { height: 15px; padding: 1px 3px; font-size: 7.5px; }
  #paymentsStickyBar .actions .btn,
  #paymentsStickyBar .actions button { font-size: 7px; padding: 1.5px 5px; line-height: 1.1; border-radius: 2px; }

  /* Shrink the "Page: 1" info text by 50% on phones */
  #paymentsStickyBar #pageInfo {
    font-size: 50%;
  }

  /* Phones only: shrink Prev/Next buttons by ~30% in the filters area */
  #paymentsStickyBar #filters #prevPage,
  #paymentsStickyBar #filters #nextPage {
    font-size: 9px; /* ~30% smaller than base 13px */
    padding: 2px 7px; /* 4x10 -> ~2x7 */
    line-height: 1.1;
    border-radius: 2px;
  }

  /* Bookings mobile cards: keep field titles (labels) on the left */
  #bookingsTable tbody tr td { text-align: left; }
  #bookingsTable tbody tr td::before { justify-self: start; text-align: left; }
}
